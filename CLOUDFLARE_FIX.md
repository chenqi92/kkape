# ğŸš¨ Cloudflare Pages éƒ¨ç½²é”™è¯¯ä¿®å¤

## é—®é¢˜è¯Šæ–­

ä»æ„å»ºæ—¥å¿—çœ‹åˆ°ä»¥ä¸‹é”™è¯¯ï¼š

```
Executing user deploy command: npx wrangler deploy
âœ˜ [ERROR] Missing entry-point to Worker script or to assets directory
```

**é—®é¢˜åŸå› **ï¼šCloudflare Pages é¡¹ç›®è®¾ç½®ä¸­é…ç½®äº†é”™è¯¯çš„"éƒ¨ç½²å‘½ä»¤"ã€‚

---

## âœ… ç«‹å³ä¿®å¤ï¼ˆ3åˆ†é’Ÿæå®šï¼‰

### æ­¥éª¤ 1ï¼šç™»å½• Cloudflare Pages

1. è®¿é—® https://dash.cloudflare.com/
2. ç‚¹å‡»å·¦ä¾§èœå• **Workers & Pages**
3. æ‰¾åˆ°å¹¶ç‚¹å‡»ä½ çš„é¡¹ç›®ï¼ˆå¯èƒ½å« `tool-showcase` æˆ–ç±»ä¼¼åç§°ï¼‰

### æ­¥éª¤ 2ï¼šç¼–è¾‘æ„å»ºé…ç½®

1. ç‚¹å‡» **Settings** é€‰é¡¹å¡
2. æ‰¾åˆ° **Builds & deployments** éƒ¨åˆ†
3. åœ¨ **Production** ä¸‹ï¼Œç‚¹å‡» **Configure Production deployments** æˆ– **Edit configuration**

### æ­¥éª¤ 3ï¼šæ­£ç¡®çš„é…ç½®ï¼ˆé‡è¦ï¼ï¼‰

è¯·**å®Œå…¨æŒ‰ç…§**ä»¥ä¸‹é…ç½®å¡«å†™ï¼š

```
æ¡†æ¶é¢„è®¾ (Framework preset): Astro

æ„å»ºå‘½ä»¤ (Build command): npm run build

æ„å»ºè¾“å‡ºç›®å½• (Build output directory): dist

æ ¹ç›®å½• (Root directory): /ï¼ˆæˆ–ç•™ç©ºï¼‰

âš ï¸ å…³é”®ï¼šåˆ é™¤ä»¥ä¸‹å­—æ®µä¸­çš„ä»»ä½•å†…å®¹
éƒ¨ç½²å‘½ä»¤ (Deploy command): [å®Œå…¨ç•™ç©ºï¼Œä¸è¦å¡«ä»»ä½•ä¸œè¥¿]

ç¯å¢ƒå˜é‡ (Environment variables): [ä¸éœ€è¦æ·»åŠ ]
```

**é‡è¦æç¤º**ï¼š
- âŒ ä¸è¦åœ¨"éƒ¨ç½²å‘½ä»¤"ä¸­å¡«å†™ `wrangler deploy` æˆ–ä»»ä½•å…¶ä»–å‘½ä»¤
- âŒ ä¸è¦åœ¨"éƒ¨ç½²å‘½ä»¤"ä¸­å¡«å†™ `npx wrangler deploy`
- âœ… "éƒ¨ç½²å‘½ä»¤"å­—æ®µåº”è¯¥**å®Œå…¨ç•™ç©º**

### æ­¥éª¤ 4ï¼šä¿å­˜å¹¶é‡æ–°éƒ¨ç½²

1. ç‚¹å‡» **Save** æŒ‰é’®
2. è¿›å…¥ **Deployments** é€‰é¡¹å¡
3. æ‰¾åˆ°æœ€æ–°çš„å¤±è´¥éƒ¨ç½²
4. ç‚¹å‡»å³ä¾§çš„ **Â·Â·Â·** èœå•æŒ‰é’®
5. é€‰æ‹© **Retry deployment**

### æ­¥éª¤ 5ï¼šç­‰å¾…éƒ¨ç½²å®Œæˆ

- éƒ¨ç½²é€šå¸¸éœ€è¦ 1-2 åˆ†é’Ÿ
- ä½ ä¼šçœ‹åˆ°æ„å»ºæ—¥å¿—æ˜¾ç¤ºæ„å»ºè¿›åº¦
- æˆåŠŸçš„æ ‡å¿—æ˜¯çœ‹åˆ°ï¼š`âœ“ 10 page(s) built in X.XXs`

---

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

åœ¨ä¿å­˜ä¹‹å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] æ¡†æ¶é¢„è®¾é€‰æ‹©äº† **Astro**
- [ ] æ„å»ºå‘½ä»¤æ˜¯ `npm run build`
- [ ] æ„å»ºè¾“å‡ºç›®å½•æ˜¯ `dist`
- [ ] æ ¹ç›®å½•æ˜¯ `/` æˆ–ç•™ç©º
- [ ] **éƒ¨ç½²å‘½ä»¤å­—æ®µå®Œå…¨ç•™ç©º**ï¼ˆè¿™æ˜¯æœ€å…³é”®çš„ï¼ï¼‰
- [ ] Node.js ç‰ˆæœ¬ä¼šè‡ªåŠ¨ä» `.node-version` æ–‡ä»¶è¯»å–ï¼ˆ20ï¼‰

---

## ğŸ¯ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ï¼Ÿ

### é”™è¯¯çš„é…ç½®ï¼ˆå¯¼è‡´å¤±è´¥ï¼‰
```
Build command: npm run build
Deploy command: npx wrangler deploy âŒ è¿™æ˜¯é”™è¯¯çš„ï¼
```

### æ­£ç¡®çš„é…ç½®ï¼ˆåº”è¯¥ä½¿ç”¨ï¼‰
```
Build command: npm run build
Deploy command: [ç•™ç©º] âœ… Cloudflare Pages è‡ªåŠ¨éƒ¨ç½²
```

**åŸå› è¯´æ˜**ï¼š
- Cloudflare Pages å¯¹äº**é™æ€ç«™ç‚¹**ï¼ˆå¦‚ Astroï¼‰ï¼Œä¼šè‡ªåŠ¨å°† `dist` ç›®å½•éƒ¨ç½²åˆ° CDN
- `wrangler deploy` å‘½ä»¤æ˜¯ç”¨äºéƒ¨ç½² **Workers**ï¼ˆæœåŠ¡å™¨ç«¯ä»£ç ï¼‰ï¼Œä¸é€‚ç”¨äºé™æ€ç«™ç‚¹
- æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ 100% é™æ€ç«™ç‚¹ï¼Œä¸éœ€è¦ä»»ä½•éƒ¨ç½²å‘½ä»¤

---

## ğŸ” éªŒè¯éƒ¨ç½²æˆåŠŸ

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®ä½ çš„ç½‘ç«™ï¼ˆä¾‹å¦‚ `https://xxx.pages.dev`ï¼‰ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

âœ… **æ­£ç¡®çš„é¡µé¢åŒ…å«ï¼š**
- ğŸ› ï¸ "å·¥å…·å±•ç¤º" æ ‡é¢˜
- "å¼€å‘å·¥å…·é›†åˆ" å¤§æ ‡é¢˜
- 4 ä¸ªå·¥å…·å¡ç‰‡
  - ğŸ“Š InfloWaveï¼ˆæ—¶é—´åºåˆ—æ•°æ®åº“ç®¡ç†å·¥å…·ï¼‰
  - ğŸ”§ Protoï¼ˆProtobuf åœ¨çº¿å·¥å…·ï¼‰
  - ğŸ“‘ Allbs Excelï¼ˆExcel å¯¼å…¥å¯¼å‡ºå·¥å…·ï¼‰
  - ğŸ§ª Allbs Excel æµ‹è¯•å·¥å…·
- ä¸­è‹±æ–‡åˆ‡æ¢æŒ‰é’®ï¼ˆZH / ENï¼‰
- ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼ˆå¤ªé˜³/æœˆäº®å›¾æ ‡ï¼‰

âŒ **å¦‚æœä»ç„¶çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜è¿˜æœ‰é—®é¢˜ï¼š**
- "Hello World"
- 404 é¡µé¢
- ç©ºç™½é¡µé¢

---

## ğŸ†˜ å¦‚æœä»ç„¶å¤±è´¥

### æ–¹æ¡ˆ Aï¼šæ£€æŸ¥æ„å»ºæ—¥å¿—

1. åœ¨ Cloudflare Pages çš„ **Deployments** é¡µé¢
2. ç‚¹å‡»å¤±è´¥çš„éƒ¨ç½²
3. æŸ¥çœ‹ **Build logs**
4. ç¡®è®¤çœ‹åˆ°ï¼š
   ```
   06:02:29 [build] 10 page(s) built in 1.38s
   06:02:29 [build] Complete!
   Success: Build command completed
   ```

5. ç¡®è®¤**ä¸åº”è¯¥**çœ‹åˆ°ï¼š
   ```
   Executing user deploy command: npx wrangler deploy
   ```

### æ–¹æ¡ˆ Bï¼šåˆ é™¤é¡¹ç›®é‡æ–°åˆ›å»º

å¦‚æœé…ç½®ä¿®æ”¹åä»ç„¶å¤±è´¥ï¼Œå¯èƒ½éœ€è¦é‡æ–°åˆ›å»ºé¡¹ç›®ï¼š

1. **åˆ é™¤æ—§é¡¹ç›®**
   - Settings â†’ æ»šåŠ¨åˆ°åº•éƒ¨ â†’ Delete project

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» **Create a project**
   - é€‰æ‹© **Connect to Git**
   - é€‰æ‹© `kkape` ä»“åº“
   - ä½¿ç”¨æœ¬æ–‡æ¡£ä¸­çš„æ­£ç¡®é…ç½®
   - **é‡è¦**ï¼šä¸è¦å¡«å†™ä»»ä½•"éƒ¨ç½²å‘½ä»¤"

---

## ğŸ’¡ æœ¬åœ°æµ‹è¯•éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°æµ‹è¯• Wrangler éƒ¨ç½²ï¼ˆä¸é€šè¿‡ Gitï¼‰ï¼š

```bash
# åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# å®‰è£…ä¾èµ–å¹¶æ„å»º
npm install
npm run build

# ä½¿ç”¨ Wrangler CLI éƒ¨ç½²ï¼ˆä»…ç”¨äºæµ‹è¯•ï¼‰
npx wrangler login
npx wrangler pages deploy dist --project-name=tool-showcase
```

**æ³¨æ„**ï¼šè¿™ç§æ–¹å¼ä»…ç”¨äºä¸´æ—¶æµ‹è¯•ï¼Œæ¨èä½¿ç”¨ Git è‡ªåŠ¨éƒ¨ç½²ã€‚

---

## ğŸ“ éœ€è¦æ›´å¤šå¸®åŠ©ï¼Ÿ

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ­¥éª¤æ“ä½œåä»ç„¶æœ‰é—®é¢˜ï¼š

1. æˆªå›¾ Cloudflare Pages çš„æ„å»ºé…ç½®é¡µé¢
2. å¤åˆ¶å®Œæ•´çš„æ„å»ºæ—¥å¿—
3. æ£€æŸ¥ main åˆ†æ”¯æ˜¯å¦åŒ…å«æ‰€æœ‰æœ€æ–°æ–‡ä»¶

**å¿«é€ŸéªŒè¯æœ¬åœ°æ„å»º**ï¼š
```bash
npm run build
ls dist/  # åº”è¯¥çœ‹åˆ° index.html, _astro/, en/, tools/ ç­‰
```

---

## âœ… æ€»ç»“

**é—®é¢˜**ï¼šCloudflare Pages é…ç½®äº†é”™è¯¯çš„éƒ¨ç½²å‘½ä»¤ `npx wrangler deploy`

**è§£å†³**ï¼šåœ¨ Cloudflare Pages è®¾ç½®ä¸­åˆ é™¤éƒ¨ç½²å‘½ä»¤ï¼Œä¿æŒç•™ç©º

**åŸå› **ï¼šé™æ€ç«™ç‚¹ä¸éœ€è¦éƒ¨ç½²å‘½ä»¤ï¼ŒCloudflare Pages ä¼šè‡ªåŠ¨éƒ¨ç½² dist ç›®å½•

ä¿®å¤åï¼Œç½‘ç«™åº”è¯¥èƒ½æ­£å¸¸æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ï¼ğŸ‰
